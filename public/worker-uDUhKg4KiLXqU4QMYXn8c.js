self.addEventListener("push",t=>{let i={};try{i=t.data?t.data.json():{}}catch(n){i={title:t.data?t.data.text():"ICC WebRadio"}}const n="string"==typeof i.title&&i.title.trim()?i.title.trim():"ICC WebRadio",o={body:"string"==typeof i.body&&i.body.trim()?i.body.trim():"Nouveau contenu disponible.",icon:"string"==typeof i.icon&&i.icon.trim()?i.icon.trim():"/icons/icon-192.png",badge:"string"==typeof i.badge&&i.badge.trim()?i.badge.trim():"/icons/icon-192.png",tag:"string"==typeof i.tag&&i.tag.trim()?i.tag.trim():"icc-notification",data:{url:"string"==typeof i.url&&i.url.trim()?i.url.trim():"/community"}};t.waitUntil(self.registration.showNotification(n,o))}),self.addEventListener("notificationclick",t=>{var i;t.notification.close();const n=(null===(i=t.notification)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.url)||"/community";t.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(t=>{for(const i of t)if("focus"in i)return i.navigate(n),i.focus();return self.clients.openWindow(n)}))});